{% load wappstore_filters %}
<div class="wappstore-wapp-wrapper" katana-click="wappstore.expandWapp" name="{{ wapp.name }}">
    <div class="card" style="width: 20rem;">
        <div class="card-body" style="position: relative">
            <h5 class="card-title">{{ wapp.name }}</h5>
            <h6 class="card-subtitle mb-2 text-muted">{{ wapp.developer }}</h6>
            <hr>
            <div class="wappstore-wapp-icon-wrapper">
                <div class="wappstore-wapp-icon-container">
                    <i class="fa fa-4x fa-{{ wapp.icon|convert_to_fa_four }} {{ wapp.color }} wappstore-wapp-icon"></i>
                </div>
                <div class="wappstore-wapp-desc-container">
                    <p>{{ wapp.short_desc }}</p>
                </div>
            </div>
            <hr>
            <h6 class="card-subtitle mb-2 text-muted">
                <span style="float: left !important;">
                    {{ wapp.average_stars }} <i class="fa fa-star"></i> &nbsp;
                    {{ wapp.number_of_reviews }} <i class="fa fa-users"></i>
                </span>
                <span style="float: right !important;">
                    {% if wapp.pricing == 0.0 %}
                        FREE
                    {% else %}
                        ${{ wapp.pricing }}
                    {% endif %}
                </span>
            </h6>
            {% if wapp.name in installed_apps %}
            <button class="btn" style="position: absolute; right: 23px; bottom: 58px;" app-name="{{wapp.real_name}}">
                Installed
            </button>
            {% else %}
            <button class="btn" style="position: absolute; right: 23px; bottom: 58px;" app-name="{{wapp.real_name}}" katana-click="wappstore.installApp">
                Install
            </button>
            {% endif %}
        </div>
    </div>
</div>